@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

$accent: #14FFEC;
$accent-dim: #2dd4bf;
$bg-color: #212121;
$menu-btn-size: 20px;
$menu-btn-line-thickness: 2px;
$nav-btn-dot-size: 5px;
$gray-950-darker: hsl(224, 71%, 3.5%);
$gray-900: rgb(17 24 39);
$gray-700: rgb(55 65 81);

// Global Styles
*, *:before, *:after {
    font-family: 'Poppins', system-ui, sans-serif;
    box-sizing: border-box;
    --cursor-scale: 1.0;
}

html {
    scroll-behavior: smooth;
}

.content-container {
    width: 100%;
    max-width: 90rem !important;
}

.interactable:hover {
    --cursor-scale: 10.0;
}

body {
    background: hsl(223, 71%, 5%);
    background: radial-gradient(at right top, hsl(223, 71%, 8%), hsl(223, 70%, 4%));
    background-attachment: fixed;

    overflow-x: hidden;

    &::-webkit-scrollbar {
        width: 6.5px;
    }
    &::-webkit-scrollbar-track {
        background:hsl(223, 71%, 5%);
        border-radius: 10px;
    }
    &::-webkit-scrollbar-thumb {
        background-color: hsl(223, 30%, 20%);
        border-radius: 10px;
    }
}

@mixin BeforeAfterBase($w: 100%, $h: 100%, $p: absolute, $t: 0, $l: 0, $r: 0, $b: 0) {
    content: '';
    width: $w;
    height: $h;
    position: $p;
    top: $t;
    left: $l;
    right: $r;
    bottom: $b;
}

.top-header {
    min-height: 110px;
    transition: transform 0.2s ease-out;

    &.inactive {
        transform: translateY(-100px);
    }
}
.top-header::after {

    @include BeforeAfterBase(100%, 3px, relative, auto, auto, auto, auto);

    background-color: $accent-dim;
    transform-origin: left;
    scale: 0 1;
    animation: scrollWatcher linear;
    animation-timeline: scroll();
}

.btn-slide-hover::before {
    @include BeforeAfterBase();

    background-color: white;
    z-index: -1;
    transform: translateX(-100%);

    transition: transform 0.15s ease-out;
}
.btn-slide-hover:hover::before {
    transform: translateX(0%);
}

svg {
    display: block;
    max-width: 100%;
    height: auto;
} 

.project-banner {
    width: 600px;

    border-radius: 1rem;
    box-shadow: rgba(0, 0, 0, 0.25) 0px 25px 50px -12px;
    transition: transform 0.15s ease-out 0s;

    &-flipper {

        position: relative;

       // transform: rotateY('180deg');
        transform-style: preserve-3d;
        transition: transform 0.6s ease;

        &>.front, &>.back {
            backface-visibility: hidden;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        &>.front {
            position: relative;
            transform: rotateY(180deg);
        }
    }
}

.tint::after {
    @include BeforeAfterBase();

    background-color: $accent;
    opacity: 0.035;
}

.icon {
    &-btn {
        width: 24px;
        opacity: 1; 
        transform: scale(1);
        transition: all 0.3s ease;
        
        &.inactive {
            opacity: 0;
            transform: scale(0);
        }
    }
}

.social {
    &-line {
        width: 1px;
        height: 40px;
        transition: height 0.3s ease;

        &.inactive {
            height: 0px;
        }
    }
    &-arrow {
        transition: transform 0.3s ease;

        &.inactive {
            transform: rotateZ(180deg);
        }
    }
}

.back-to-top-btn {

    &.inactive {
        transform: translateY(100%);
        bottom: 0;
    }
    color: #d9d9d9;
}

::-webkit-scrollbar {
    height: 6px;
}
::-webkit-scrollbar-thumb {
    background-color: #434e64;
    border-radius: 8px;
    
}
::-webkit-scrollbar-track {
    background-color: transparent;
    box-shadow: none;
}

.skill {
    &-icon {
        transition: opacity 0.3s ease;

        &.defocus { 
            opacity: 0.5;
            filter: blur(1px);
        }
    }
    &-label {
        transition: all 0.15s ease;

        &.inactive {
            transform: translateY(-85%) scale(0.5);
            opacity: 0;
        }
    }
    &-bg {
        position: relative;
        flex-basis: 100%;
        background-color: $gray-950-darker;
        border-radius: 4px;
        transition: all 0.35s ease;

        &:hover {
            box-shadow: (0 0 4rem rgba(22, 106, 95, 0.05));
        }
        &::before {
            @include BeforeAfterBase(auto, auto, absolute, -1px, -1px, -1px, 0);

            content: '';
            background: linear-gradient(0deg, transparent, hsl(172, 66%, 25%));
    
            z-index: -1;
            border-radius: 4px;
        }
    }
}
.navigation-btn {

    position: relative;

    &.active {
        color: white;
    }

    $size: $nav-btn-dot-size;

    &::before {
        @include BeforeAfterBase($size, $size, absolute, -50%, calc(50% - $size / 2), auto, auto);

        background-color: #2dd4bf;
        border-radius: 100%;
        opacity: 0;
        z-index: -1;

        transition: all 0.3s ease;
    }
    &.active::before {
        top: 100%;
        opacity: 1;
    }
}

.pale-light-blue {
    &-text {
        color: #eff8ff;
    }
    &-bg {
        background-color: #eff8ff;
    }
}
.bg-dark-950-darker {
    background-color: $gray-950-darker;
}

.shimmer {
    position: relative;
    transition: opacity 0.5s ease;
    overflow: hidden;

    &.inactive::after {
        opacity: 0;
    }
    &::after {
        @include BeforeAfterBase();
    
        animation: shimmerEffect 1.25s infinite ease;
    
        z-index: 2;
        background: linear-gradient(to right, $gray-900 8%, $gray-700 20%, $gray-900 33%);
        background-size: 200%;
    }
}

/*    MENU BUTTON :: START    */

@mixin MenuLine($size, $thickness) {
    width: $size;
    height: $thickness;
    background-color: #2dd4bf;
    border-radius: 16px;
    transition: transform 0.3s ease;
}
@mixin CalculateMenuOffset($size, $thickness) {
    --offset: calc(#{$size} / 2 - #{$thickness} / 2);
}

@mixin MenuBtnBase($size, $thickness, $topSizeMultiplier: 1.0, $middleSizeMultiplier: 1.0, $bottomSizeMultiplier: 1.0) {
    width: $size;
    height: $size;

    @include CalculateMenuOffset($size, $thickness);

    .menu-line {
        &-top { @include MenuLine($size * $topSizeMultiplier, $thickness); }
        &-middle { @include MenuLine($size * $middleSizeMultiplier, $thickness); }
        &-bottom { @include MenuLine($size * $bottomSizeMultiplier, $thickness); }
    }
}

.menu-btn {
    
    @include MenuBtnBase($menu-btn-size, $menu-btn-line-thickness);

    &.list { 
        @include MenuBtnBase($menu-btn-size, $menu-btn-line-thickness, 0.7, 1.0, 0.8);
    }
    &-big {
        @include MenuBtnBase(30px, 3px);
    }
    &.close {
        .menu-line {
            &-top {
                transform: translateY(var(--offset)) rotateZ(45deg);
            }
            &-middle {
                opacity: 0;
            }
            &-bottom {
                transform: translateY(calc(-1 * var(--offset))) rotateZ(-45deg);
            }
        }
    }
}

/*    MENU BUTTON :: END    */


/*    ANIMATIONS :: START    */

@mixin keyframes($name, $frames) {
  @keyframes #{$name} {
    @each $percent, $style in $frames {
      #{$percent + '%'} { 
        @each $prop, $value in $style { 
          #{$prop}: #{$value}; 
        }
      }
    }
  }
}
@include keyframes(fadeIn, (
    0: (opacity: 0),
    100: (opacity: 1)
));
@include keyframes(instantFadeIn, (
    0: (opacity: 0),
    100: (opacity: 1)
));
@include keyframes(scrollWatcher, (
    100: (scale: 1 1)
));
@include keyframes(shimmerEffect, (
    0: (background-position: 100% 0),
    100: (background-position: -100% 0)
));

@mixin fadeAnimation($opacity, $animName, $speed) {
    opacity: $opacity;
    animation: $animName $speed forwards ease;
}

.fade-in { @include fadeAnimation(0, fadeIn, 0.3s) }
.instant-fade-in { @include fadeAnimation(0, instantFadeIn, 0s) }

/*    ANIMATIONS :: END    */